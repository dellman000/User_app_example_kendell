<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- all link tags send a get request -->
    <link rel="stylesheet" href="/css/style.css">
    <title>Document</title>
</head>

<body>
    <h1>Routes:</h1>
    <hr>
    <div class="route-container">
        <p class="route">
            <span>Get /api/users</span> Returns all users
        </p>
        <p class="route"> <span> Get /api/users/:ID</span> Return a single user by Id</p>
    </div>

    <form  id="form">
        <button> Submit</button>
        <input id="name" name="fullName" type="text" placeholder="name">
        <input id="age" name="age" type="text" placeholder="age">
    </form>

    <script>
        // fetch('/about').then((obj) => {
        //     return obj.json()
        // }
        // ).then(((obj) => {
        //     console.log(obj)
        // }))
            function AddData (event){
                event.preventDefault()
                const getName=document.getElementById('name').value 
                const getAge=document.getElementById('age').value 
                console.log(getName)


                fetch('/add', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                name: getName,
                age:getAge
            })
        }).then((obj) => { 
            document.getElementById('name').value =''
            document.getElementById('age').value =''
            return obj.json() }).
            then(data => { console.log(data) })
            }
           const form= document.getElementById('form')
           console.log(form) 
            form.addEventListener('submit',AddData)

            // AddData()
    </script>
</body>

</html>